---
title: "标志寄存器"
date: 2023-08-24T11:03:38+08:00
tags:
  - x86
  - asm
---

# 8086标志寄存器

![](https://res.weread.qq.com/wrepub/CB_3300050845_txt009_5.jpg)

- ZF, 当处理器执行一条算术或者逻辑运算指令后, 如果计算结果为0，这一位被置成1，表示计算结果为0是“真”的；否则清除此位(0)。
- DF, 通过将这一位清0或者置1，就能控制movsb和movsw的传送方向。
- SF, 如果计算结果的最高位是比特“0”，处理器把SF位置“0”，否则SF位置“1”。
- PF, 当运算结果出来后，如果最低8位中，有偶数个为1的比特，则PF=1；否则PF=0。
- CF, 当处理器进行算术操作时，如果**最高位**有向前进位或借位的情况发生，则CF=1；否则CF=0。
  - inc, dec不影响cf位
- OF, 该标志的意思是，假定你进行的是有符号数运算，如果运算结果是正确的，那么OF=0，否则OF=1。
- IF, 中断标志(Interrupt Flag)。当IF为0时，所有从处理器INTR引脚来的中断信号都被忽略掉；当其为1时，处理器可以接受和响应中断。

cli(CLear Interrupt flag)用于清除IF标志位；sti(SeT Interrupt flag)用于置位IF标志。

# 影响标志位的指令

![](https://res.weread.qq.com/wrepub/CB_3300050845_txt009_49.jpg)

or指令对标志寄存器的影响是：OF和CF位被清零，SF、ZF、PF位的状态依计算结果而定，AF位的状态未定义。

and指令执行后，OF和CF位被清零，SF、ZF、PF位的状态依计算结果而定，AF位的状态未定义。

mul指令执行后，要是结果的高一半为全0，则OF和CF清零，否则置1。对SF、ZF、AF和PF标志的影响未定义。

test指令执行后，OF=CF=0；对ZF、SF和PF的影响视测试结果而定；对AF的影响未定义。
