---
title: "第2章 C语言基本概念"
date: 2023-06-30T16:27:01+08:00
draft: true
---

## 2.1 编写一个简单的C程序

{{< embedcode c "pun.c" >}}

### 2.1.1 编译和链接

对于C程序来说, 把程序转化为机器可以执行的形式通常包含下列3个步骤

- 预处理。首先程序会被送交给预处理器（preprocessor）。预处理器执行以#开头的命令（通常称为指令）。预处理器有点类似于编辑器，它可以给程序添
  加内容，也可以对程序进行修改。
- 编译。修改后的程序现在可以进入编译器（compiler）了。编译器会把程序翻译成机器指令（即目标代码）。然而，这样的程序还是不可以运行的。
- 链接。在最后一个步骤中，链接器（linker）把由编译器产生的目标代码和所需的其他附加代码整合在一起，这样才最终产生了完全可执行的程序。这些附加
  代码包括程序中用到的库函数（如printf函数）。

预处理器通常会和编译器集成在一起, 在UNIX系统环境下，通常把C编译器命名为cc

```bash
$ cc pun.c
$ gcc -o pun pun.c
```

### 2.1.2 集成开发环境

## 2.2 简单程序的一般形式

```
指令
int main(void)
{
  语句
}
```

### 2.2.1 指令

```c
#include <stdio.h>
```

### 2.2.2 函数

main函数是非常特殊的：在执行程序时系统会自动调用main函数。

- 它会在程序终止时向操作系统返回一个状态码

{{< embedcode c "pun.c" >}}

- main前面的int表明该函数将返回一个整数值
- 圆括号中的void表明main函数没有参数

```c
return 0
```

有两个作用：

- 一是使main函数终止（从而结束程序）
- 二是指出main函数的返回值是0。

如果main函数的末尾没有return语句，程序仍然能终止。但是，许多编译器会产生一条警告信息（因为函数应该返回一个整数却没有这么做）。

### 2.2.3 语句
