---
title: "第9章 环视"
date: 2023-07-15T16:52:06+08:00
---

## 9.1 环视简介

明知是自己不需要的东西，还把它们检索出来，然后再手动删除，这种做法毫无意义。你真正需要的是想办法构造出一种模式，该模式中包含一些不用被返回的匹配——
这些匹配是为了找出正确的匹配位置，其自身不属于最终的匹配结果。换句话说，你需要进行“环视”。

## 9.2 向前查看

向前查看其实就是一个子表达式, 向前查看模式的语法是一个以?=开头的子表达式，需要匹配的文本跟在=的后面。

```regexp
.+(?=:)
```

任何子表达式都可以转换为向前查看表达式，只要在其之前加上一个?=即可。在同一个搜索模式里可以使用多个向前查看表达式，出现的位置没有任何限制

## 9.3 向后查看

向后查看操作符`?<=`

它必须出现在一个子表达式里，后面跟随要匹配的文本。

```regexp
(?<=\$)[0-9.]+
```

向前查看模式的长度是可变的，其中可以包含.和+等量词，所以非常灵活。**向后查看模式则只能是固定长度**。几乎所有的正则表达式实现都有此限制。

## 9.4 结合向前查看和向后查看

```regexp
(?<=<[tT][iI][tT][lL][eE]>).*(?=</[tT][iI][tT][lL][eE]>)
```

## 9.5 否定式环视

表9-1　各种环视操作

![](https://res.weread.qq.com/wrepub/epub_43208833_86)

```regexp
(?<=\$)\d+
\b(?<!\$)\d+\b
```

## 9.6 小结
