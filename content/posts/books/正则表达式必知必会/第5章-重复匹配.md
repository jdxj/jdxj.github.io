---
title: "第5章 重复匹配"
date: 2023-07-15T12:42:01+08:00
---

## 5.1 有多少个匹配

### 5.1.1 匹配一个或多个字符

电子邮件地址

```regexp
[\w.]+@[\w.]+\.\w+
```

### 5.1.2 匹配零个或多个字符

```regexp
\w+[\w.]*@[\w.]+\.\w+
```

### 5.1.3 匹配零个或一个字符

```regexp
https?:\/\/[\w.\/]+
[\r]?\n[\r]?\n
```

## 5.2 匹配的重复次数

即使你没有对{和}进行转义，大部分正则表达式实现也能正确地处理它们（根据具体情况把它们解释为普通字符或元字符）。话虽如此，为了避免不必要的麻烦，最好
不要依赖这种行为。

### 5.2.1 具体的重复匹配

```regexp
#[A-Fa-f0-9]{6}
```

### 5.2.2 区间范围

```regexp
\d{1,2}[-\/]\d{1,2}[-\/]\d{2,4}
```

在这个例子里，我们使用了/的转义序列\/。这在许多正则表达式实现里是不必要的，但有些正则表达式解析器要求必须这样做。为避免不必要的麻烦，在需要匹配/
字符本身的时候，最好总是使用它的转义序列。

### 5.2.3 匹配“至少重复多少次”

```regexp
\d+: \$\d{3,}\.\d{2}
```

## 5.3 防止过度匹配

```regexp
<[Bb]>.*<\/[Bb]>
```

*和+都是所谓的“贪婪型”（greedy）元字符，其匹配行为是多多益善而不是适可而止。它们会尽可能地从一段文本的开头一直匹配到末尾，而不是碰到第一个匹配时
就停止。

- 量词就是贪婪的
- 懒惰型量词的写法是在贪婪型量词后面加上一个?

表5-1　贪婪型量词和懒惰型量词

![](https://res.weread.qq.com/wrepub/epub_43208833_51)

## 5.4 小结
