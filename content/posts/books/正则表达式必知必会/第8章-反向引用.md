---
title: "第8章 反向引用"
date: 2023-07-15T15:47:40+08:00
summary: backreference
---

## 8.1 理解反向引用

```regexp
<[hH][1-6]>.*?<\/[hH][1-6]>
```

结束标签对应该匹配的起始标签一无所知

## 8.2 反向引用匹配

反向引用允许正则表达式模式引用之前匹配的结果

```regexp
[ ]+(\w+)[ ]+\1
```

\1匹配的内容与第一个分组匹配的内容一样。

```regexp
<[hH]([1-6])>.*?<\/[hH]\1>
```

在许多实现里，第0个匹配（\0）可以用来代表整个正则表达式。

- 这种语法存在着一个严重的不足：移动或编辑子表达式（子表达式的位置会因此改变）可能会使模式失效
- 为了弥补这一不足，一些比较新的正则表达式实现还支持“命名捕获”（named capture）：给某个子表达式起一个唯一的名称，随后用该名称（而不是相对位置）
  来引用这个子表达式。

## 8.3 替换操作

```regexp
(\w+[\w\.]*@[\w\.]+\.\w+)
<a href="mailto:$1">$1</a>
```

你需要根据所使用的正则表达式实现修改反向引用指示符。

### 大小写转换

表8-1　用来进行大小写转换的元字符

![](https://res.weread.qq.com/wrepub/epub_43208833_78)

```regexp
(<[Hh]1>)(.*?)(<\/[Hh]1>)
$1\U$2\E$3
```

## 8.4　小结
