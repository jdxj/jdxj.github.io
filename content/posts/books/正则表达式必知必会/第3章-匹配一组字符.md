---
title: "第3章 匹配一组字符"
date: 2023-07-15T11:37:54+08:00
---

## 3.1 匹配多个字符中的某一个

```regexp
[ns]a.\.xls
```

验证某个模式能不能获得预期的匹配结果并不困难，但如何验证它不会匹配到你不想要的东西可就没那么简单了。 

```regexp
(?#这种模式最适合用在从全局看需要区分字母大小写，但在某个局部不需要区分字母大小写的搜索操作里。)
[Rr]eg[Ee]x
```

## 3.2 利用字符集合区间

字符区间的首、尾字符可以是ASCII字符表里的任意字符。但在实际工作中，最常用的字符区间还是数字字符区间和字母字符区间。

```regexp
[ns]a[0123456789]\.xls
[ns]a[0-9]\.xls
```

在定义一个字符区间的时候，一定要避免让这个区间的尾字符小于它的首字符（例如[3-1]）。这种区间是没有意义的，而且往往会让整个模式失效。

-（连字符）是一个特殊的元字符，它只有出现在[和]之间的时候才是元字符。在字符集合以外的地方，-只是一个普通字符，只能与-本身相匹配。因此，在正则表达
式里，-字符不需要被转义。

在同一个字符集合里可以给出多个字符区间。

```regexp
[A-Za-z0-9]
(?#RGB)
#[0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f]
```

## 3.3 排除

```regexp
[ns]a[^0-9]\.xls
```

^的效果将作用于给定字符集合里的所有字符或字符区间，而不是仅限于紧跟在^字符后面的那一个字符或字符区间。

## 3.4 小结
