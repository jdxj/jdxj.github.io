---
title: "2-7 SQL和递归集合"
date: 2023-03-15T21:54:43+08:00
---

# 实际工作中的递归集合

冯·诺依曼究竟是如何想到“用集合定义自然数”这样非同寻常的方法的呢？

# 冯·诺依曼的前辈们

冯·诺依曼提出用递归集合定义自然数，是在1923年发表的论文《关于超限序数的引入》中。这是他发表的第二篇论文。从论文标题中的“序数”可以看出，实际
上冯·诺依曼提出的与其说是“自然数的定义”，还不如说是“序数的定义”。序数可以理解成自然数的别称，即在强调0的下一个是1,1的下一个是2,2的下一个是3
……这种顺序时的名称（相反，在不强调顺序时，自然数有“基数”这样一个别称）。

冯·诺依曼提出的自然数的递归定义

![](https://res.weread.qq.com/wrepub/epub_26211874_375)

各种自然数的递归定义

![](https://res.weread.qq.com/wrepub/epub_26211874_376)

按照冯·诺依曼方法，集合中的元素个数等于想要定义的数。

SQL可以通过COUNT函数计算出元素个数，与冯·诺依曼方法的定义方式兼容性很好。

- 相反，策梅洛方法不太适合在SQL中使用（SQL本来就不使用括号表示集合）。

# 数是什么

皮亚诺公理

- 存在起到0的作用的东西
- 没有在0前面的自然数
- 每一个自然数a，都具有后继自然数（successor）

像这样得出某个自然数的后继自然数的函数叫作后继函数，写作suc(x)。于是有suc(5) ＝6、suc(17)＝18。因此，使用后继函数生成自然数时，可以像下面
这样嵌套使用。

```sql
      0 = 0
      1 = suc(0)
      2 = suc(suc(0))
      3 = suc(suc(suc(0)))
        ·
        ·
        ·
```

这里需要着重理解的是，我们并没有指定该后继函数的内部实现。无论什么样的内部实现，只要能够生成下一个自然数就可以，这是一个比较宽松的条件。

- 冯·诺依曼方法和弗雷格方法的后继函数：suc(a) = a∪{a}
- 策梅洛方法的后继函数：suc(a) = {a}

自然数的定义是由皮亚诺列举的5个条件给出的，冯·诺依曼等人只是根据皮亚诺公理生成了自然数而已。这样看来，冯·诺依曼等人的工作可以称为“构建”。

构建自然数并不一定要使用集合。在计算机科学相关领域还有一种使用λ演算函数来构建自然数的方法。

- 使用λ演算构建的自然数被阿隆佐·邱奇（Alonzo Church）以自己的姓氏命名为了“邱奇数”。不过，虽然取名叫“数”，其本质却是输入输出均为函数的高阶
  函数。

```
0:=λ fx.x
1:=λ fx.fx
2:=λ fx.f(fx)
3:=λ fx.f(f(fx))
```

# SQL的魔术与科学

