<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>第1章 汇编基础 | jdxj</title><meta name=keywords content><meta name=description content="1.1 x86通用寄存器 32位x86是intel推出的,64位x86_64是amd推出的(amd64) 1.1.1 32位架构 在汇编中使用名称来引用寄存器. 表"><meta name=author content><link rel=canonical href=https://jdxj.github.io/posts/books/%E6%B7%B1%E5%BA%A6%E6%8E%A2%E7%B4%A2go%E8%AF%AD%E8%A8%80--%E5%AF%B9%E8%B1%A1%E6%A8%A1%E5%9E%8B%E4%B8%8Eruntime%E7%9A%84%E5%8E%9F%E7%90%86%E7%89%B9%E6%80%A7%E5%8F%8A%E5%BA%94%E7%94%A8/%E7%AC%AC1%E7%AB%A0-%E6%B1%87%E7%BC%96%E5%9F%BA%E7%A1%80/><link crossorigin=anonymous href=/assets/css/stylesheet.6a98292fb8fa8cf0f3ba4042d4b75515c04267550f3ad49ff6271b5af9562443.css integrity="sha256-apgpL7j6jPDzukBC1LdVFcBCZ1UPOtSf9icbWvlWJEM=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://jdxj.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://jdxj.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://jdxj.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://jdxj.github.io/apple-touch-icon.png><link rel=mask-icon href=https://jdxj.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-FBE4H074FW"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-FBE4H074FW",{anonymize_ip:!1})}</script><meta property="og:title" content="第1章 汇编基础"><meta property="og:description" content="1.1 x86通用寄存器 32位x86是intel推出的,64位x86_64是amd推出的(amd64) 1.1.1 32位架构 在汇编中使用名称来引用寄存器. 表"><meta property="og:type" content="article"><meta property="og:url" content="https://jdxj.github.io/posts/books/%E6%B7%B1%E5%BA%A6%E6%8E%A2%E7%B4%A2go%E8%AF%AD%E8%A8%80--%E5%AF%B9%E8%B1%A1%E6%A8%A1%E5%9E%8B%E4%B8%8Eruntime%E7%9A%84%E5%8E%9F%E7%90%86%E7%89%B9%E6%80%A7%E5%8F%8A%E5%BA%94%E7%94%A8/%E7%AC%AC1%E7%AB%A0-%E6%B1%87%E7%BC%96%E5%9F%BA%E7%A1%80/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-02-04T10:37:02+08:00"><meta property="article:modified_time" content="2023-02-05T12:06:46+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="第1章 汇编基础"><meta name=twitter:description content="1.1 x86通用寄存器 32位x86是intel推出的,64位x86_64是amd推出的(amd64) 1.1.1 32位架构 在汇编中使用名称来引用寄存器. 表"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://jdxj.github.io/posts/"},{"@type":"ListItem","position":3,"name":"Books","item":"https://jdxj.github.io/posts/books/"},{"@type":"ListItem","position":5,"name":"第1章 汇编基础","item":"https://jdxj.github.io/posts/books/%E6%B7%B1%E5%BA%A6%E6%8E%A2%E7%B4%A2go%E8%AF%AD%E8%A8%80--%E5%AF%B9%E8%B1%A1%E6%A8%A1%E5%9E%8B%E4%B8%8Eruntime%E7%9A%84%E5%8E%9F%E7%90%86%E7%89%B9%E6%80%A7%E5%8F%8A%E5%BA%94%E7%94%A8/%E7%AC%AC1%E7%AB%A0-%E6%B1%87%E7%BC%96%E5%9F%BA%E7%A1%80/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"第1章 汇编基础","name":"第1章 汇编基础","description":"1.1 x86通用寄存器 32位x86是intel推出的,64位x86_64是amd推出的(amd64) 1.1.1 32位架构 在汇编中使用名称来引用寄存器. 表","keywords":[],"articleBody":"1.1 x86通用寄存器 32位x86是intel推出的,64位x86_64是amd推出的(amd64)\n1.1.1 32位架构 在汇编中使用名称来引用寄存器.\n表1-1 Intel指令编码中8个通用寄存器的编号和名称\n编号 名称 编号 名称 0 EAX 4 ESP 1 ECX 5 EBP 2 EDX 6 ESI 3 EBX 7 EDI 0~3号寄存器可以拆分\n图1-1 EAX寄存器的结构 表1-2 编号为0～3的寄存器的结构设计\n32位 16位 高8位 低8位 EAX AX AH AL ECX CX CH CL EDX DX DH DL EBX BX BH BL 4~7号寄存器没有8位独立名称\n表1-3 编号为4～7的寄存器的结构设计\n32位 16位 32位 16位 ESP SP ESI SI EBP BP EDI DI 通用寄存器的特殊用途\nEAX寄存器会被乘法和除法指令自动使用，通常称为扩展累加寄存器。 ECX被LOOP系列指令用作循环计数器，但是多数上层语言不会使用LOOP指令，一般通过条件跳转系列指令实现。 ESP用来寻址栈上的数据，很少用于普通算数或数据传输，通常称为扩展栈指针寄存器。 ESI和EDI被高速内存传输指令分别用来指向源地址和目的地址，被称为扩展源索引寄存器和扩展目标索引寄存器。 EBP在高级语言中被用来引用栈上的函数参数和局部变量，一般不用于普通算数或数据传输，称为扩展帧指针寄存器。 EFLAGS标志寄存器\n汇编语言中用于比较的CMP和TEST会修改标志寄存器里的相关标志，再结合条件跳转系列指令，就能实现上层语言中的大部分流程控制语句 EIP指令指针寄存器\n存储的是下一条将要被执行的指令的地址，而且汇编语言中不能通过名称直接引用EIP，只能通过跳转、CALL和RET等指令间接地修改EIP的值。 1.1.2 64位架构 64位架构把通用寄存器的个数扩展到16个，之前的8个通用寄存器也被扩展成了64位，每个寄存器的低8位、16位、32位都可以单独使用。\n表1-4 64位架构下16个通用寄存器的结构设计\n64位 32位 16位 8位 RAX EAX AX AL RCX ECX CX CL RDX EDX DX DL RBX EBX BX BL RSP ESP SP SPL RBP EBP BP BPL RSI ESI SI SIL RDI EDI DI DIL R8~R15 R8D~R15D R8W~R15W R8B~R15B 指令指针EIP被扩展为64位的RIP，但依然不能在代码中直接引用。标志寄存器EFLAGS被扩展为64位的RFLAGS，里面的标志位保持向前兼容。\n1.2 常用汇编指令 x86的汇编指令一般由一个opcode（操作码）和0到多个operand（操作数）组成，大多数指令包含两个操作数，一个目的操作数和一个源操作数。\n1.2.1 整数加减指令 源操作数可以是寄存器, 内存, 立即数, 目的操作数可以是寄存器, 内存. 两个操作数不能同时为内存\nADD EAX, 16 ; EAX = EAX + 16 SUB ESP, 32 ; ESP = ESP - 32 ADD AL, CL ADD AX, CX 1.2.2 数据传输指令 MOV指令主要用来在寄存器之间及寄存器和内存之间传输数据，也可以用来把一个立即数写到寄存器或内存中。\nMOV EAX, ECX ; EAX = ECX MOV EDX, 1234 ; EDX = 1234 内存寻址方式\nDisplacement：位移，是一个8位、16位或32位的值。 Base：基址，存放在某个通用寄存器中。 Index：索引，存放在某个通用寄存器中，ESP不可用作索引。 Scale：比例因子，用来与索引相乘，可以取值1、2、4、8。经过计算得到的地址称为有效地址。 Effective Address = Base + (Index x Scale) + Displacement (1-1) 基于Base和Displacement的寻址\n位移(Displacement)：一个单独的位移表示距离操作数的直接偏移量。因为位移被编码在指令中，所以一般用于编译阶段静态分配的全局变量之类。 基址(Base)：将内存地址存储在某个通用寄存器中，寄存器的值可以变化，所以一般用于运行时动态分配的变量、数据结构等。 基址＋位移(Base＋Displacement)：基址加位移，尤其适合寻址运行时动态分配的数据结构的字段，以及函数栈帧上的变量。 MOV EAX, [16] ; 位移 MOV EAX, [ESP] ; 基址 MOV EAX, [ESP + 16] ; 基址 + 位移 1.2.3 入栈和出栈指令 PUSH EAX ; 等价于 SUB ESP, 4 MOV [ESP], EAX POP EAX ; 等价于 MOV EAX, [ESP] ADD ESP, 4 1.2.4 分支跳转指令 JMP指令会修改EIP的值\n只有一个操作数, 可以是立即数, 通用寄存器, 内存位置 JMP 32 JMP EAX JMP [EAX+32] 1.2.5 过程调用指令 可以认为CALL在JMP的基础上多了一步记录返回地址的操作\nCALL指令先把返回地址入栈，然后跳转到目的地址执行 目的地址也可以经由一个立即数、通用寄存器或内存位置来给出。\nCALL EAX ; 等价于 PUSH 32 JMP EAX 子过程执行完成后通过RET指令返回，RET指令会从栈上弹出返回地址，并跳转到该地址处继续执行。\nRET 可以不带参数 RET 8 ; 等价于 RET ADD ESP, 8 1.3 内存分页机制 在分页模式下，应用程序中使用的地址被称为线性地址，需要由MMU(Memory Management Unit)基于页表映射转换为物理地址，整个转换过程对于应用程序 是完全透明的。\n1.3.2 80386两级页表 每个页面4KB, 地址总线32bit, 物理地址32bit 每个页面存1024个地址 = 4KB/32bit(4B) = 1K 图1-2 80386线性地址到物理地址的转换 1.3.3 PAE三级页表 Physical Address Extension，PAE 物理地址扩展\nPAE地址总线36bit, 使硬件能够寻址64GB 仍使用32bit线性地址宽度(进程地址空间大小不变) 每个页面4KB, PAE地址总线36bit, 物理地址64bit 每个页面存储512个地址 = 4KB/64bit(8B) = 0.5K 图1-3 PAE线性地址到物理地址的转换 1.3.4 x64四级页表 Intel推出的IA64架构因为与原来的x86架构不兼容，所以没能普及，而AMD公司通过扩展x86推出的x64架构，因为良好的向下兼容性而被广泛采用。常见的 x64、x86_64都是指amd64架构，如今的个人计算机基本是基于amd64架构的。\n在amd64上，寄存器的宽度变成了64位，而线性地址实际只用到48位，也就是最大可寻址256TB的内存。很少有单台计算机会安装如此大量的内存，所以没有必 要实现48位的地址总线，常见的个人计算机的CPU的地址总线实际还不到40位，例如笔者的计算机的Core i7实际只有36位。服务器的CPU的地址总线的宽度会 更大，例如Xeon E5系列能达到46位。\n每个页面4KB, 地址总线48bit, 物理地址64bit 每个页面存储512个地址 = 4KB/64bit(8B) = 0.5K 1.3.5 虚拟内存 猜测前面的地址转换图中的CR3是每个进程页表的起始物理地址\n进程是以页面为单位向操作系统申请内存的，操作系统一般只是对进程已申请的区间进行记账，并不会立刻映射所有页面。等到进程真正去访问某个未映射的页 面时，才会触发Page Fault异常，操作系统注册的Page Fault Handler会检查内存记账：如果目标地址已申请，就是合法访问，系统会分配一个物理页面并 完成映射，然后恢复被中断的程序，程序对这一切都是无感的；如果目标地址未申请，就是非法访问，系统一般会通过信号、异常等机制结束目标进程。\n当物理内存不够用的时候，操作系统可以把一些不常使用的物理页面写到磁盘交换分区或交换文件，从而能够将空出的页面给有需要的进程使用。当被交换到磁 盘的页面再次被访问时，也会触发Page Fault，由Page Fault Handler负责从交换分区把数据加载回内存。程序对这一切都是无感的，并不知道某个内存页 面到底是在磁盘上，还是在物理内存中，所以称为进程的虚拟内存。\n1.4 汇编代码风格 1.操作数的宽度\n在Go汇编中通过指令的后缀来判断操作数的宽度，后缀W代表16位，后缀L代表32位，后缀Q代表64位，不像Intel汇编中有AX、EAX、RAX不同的寄存器名称。 例如对于整数自增指令，Intel汇编风格的代码如下：\nINC EAX INC RCX 对应的Go汇编风格的代码如下：\nINCL AX INCQ CX 2.操作数的顺序\n对于常见的有两个操作数的指令，Go汇编中操作数的顺序与Intel汇编中操作数的顺序是相反的，源操作数在前而目的操作数在后。\n例如Intel汇编的代码如下：\nMOV EAX, ECX 转换成Go汇编的代码如下：\nMOVL CX, AX 3.地址的表示\n有效地址的计算公式如式(1-1)所示，如果要用ESP作为基址寄存器，EBX作为索引寄存器，比例系数取2，位移为16，则可以分别给出两种风格的代码。\nIntel汇编的代码如下：\n[ESP + EBX*2 + 16] Go汇编的代码如下：\n16(SP)(BX*2) 4.立即数格式\nGo汇编中的立即数类似于AT\u0026T风格的立即数，需要加上$前缀。\nIntel汇编的代码如下：\nMOV EAX, 1234 Go汇编的代码如下：\nMOVL $1234, AX 1.5 本章小结 ","wordCount":"3216","inLanguage":"en","datePublished":"2023-02-04T10:37:02+08:00","dateModified":"2023-02-05T12:06:46+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://jdxj.github.io/posts/books/%E6%B7%B1%E5%BA%A6%E6%8E%A2%E7%B4%A2go%E8%AF%AD%E8%A8%80--%E5%AF%B9%E8%B1%A1%E6%A8%A1%E5%9E%8B%E4%B8%8Eruntime%E7%9A%84%E5%8E%9F%E7%90%86%E7%89%B9%E6%80%A7%E5%8F%8A%E5%BA%94%E7%94%A8/%E7%AC%AC1%E7%AB%A0-%E6%B1%87%E7%BC%96%E5%9F%BA%E7%A1%80/"},"publisher":{"@type":"Organization","name":"jdxj","logo":{"@type":"ImageObject","url":"https://jdxj.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://jdxj.github.io accesskey=h title="jdxj (Alt + H)">jdxj</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://jdxj.github.io/posts title=Archives><span>Archives</span></a></li><li><a href=https://jdxj.github.io/tags title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://jdxj.github.io>Home</a>&nbsp;»&nbsp;<a href=https://jdxj.github.io/posts/>Posts</a>&nbsp;»&nbsp;<a href=https://jdxj.github.io/posts/books/>Books</a></div><h1 class=post-title>第1章 汇编基础</h1><div class=post-meta><span title='2023-02-04 10:37:02 +0800 CST'>February 4, 2023</span>&nbsp;·&nbsp;3216 words</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#11-x86%e9%80%9a%e7%94%a8%e5%af%84%e5%ad%98%e5%99%a8 aria-label="1.1 x86通用寄存器">1.1 x86通用寄存器</a><ul><li><a href=#111-32%e4%bd%8d%e6%9e%b6%e6%9e%84 aria-label="1.1.1 32位架构">1.1.1 32位架构</a></li><li><a href=#112-64%e4%bd%8d%e6%9e%b6%e6%9e%84 aria-label="1.1.2 64位架构">1.1.2 64位架构</a></li></ul></li><li><a href=#12-%e5%b8%b8%e7%94%a8%e6%b1%87%e7%bc%96%e6%8c%87%e4%bb%a4 aria-label="1.2 常用汇编指令">1.2 常用汇编指令</a><ul><li><a href=#121-%e6%95%b4%e6%95%b0%e5%8a%a0%e5%87%8f%e6%8c%87%e4%bb%a4 aria-label="1.2.1 整数加减指令">1.2.1 整数加减指令</a></li><li><a href=#122-%e6%95%b0%e6%8d%ae%e4%bc%a0%e8%be%93%e6%8c%87%e4%bb%a4 aria-label="1.2.2 数据传输指令">1.2.2 数据传输指令</a></li><li><a href=#123-%e5%85%a5%e6%a0%88%e5%92%8c%e5%87%ba%e6%a0%88%e6%8c%87%e4%bb%a4 aria-label="1.2.3 入栈和出栈指令">1.2.3 入栈和出栈指令</a></li><li><a href=#124-%e5%88%86%e6%94%af%e8%b7%b3%e8%bd%ac%e6%8c%87%e4%bb%a4 aria-label="1.2.4 分支跳转指令">1.2.4 分支跳转指令</a></li><li><a href=#125-%e8%bf%87%e7%a8%8b%e8%b0%83%e7%94%a8%e6%8c%87%e4%bb%a4 aria-label="1.2.5 过程调用指令">1.2.5 过程调用指令</a></li></ul></li><li><a href=#13-%e5%86%85%e5%ad%98%e5%88%86%e9%a1%b5%e6%9c%ba%e5%88%b6 aria-label="1.3 内存分页机制">1.3 内存分页机制</a><ul><li><a href=#132-80386%e4%b8%a4%e7%ba%a7%e9%a1%b5%e8%a1%a8 aria-label="1.3.2 80386两级页表">1.3.2 80386两级页表</a></li><li><a href=#133-pae%e4%b8%89%e7%ba%a7%e9%a1%b5%e8%a1%a8 aria-label="1.3.3 PAE三级页表">1.3.3 PAE三级页表</a></li><li><a href=#134-x64%e5%9b%9b%e7%ba%a7%e9%a1%b5%e8%a1%a8 aria-label="1.3.4 x64四级页表">1.3.4 x64四级页表</a></li><li><a href=#135-%e8%99%9a%e6%8b%9f%e5%86%85%e5%ad%98 aria-label="1.3.5 虚拟内存">1.3.5 虚拟内存</a></li></ul></li><li><a href=#14-%e6%b1%87%e7%bc%96%e4%bb%a3%e7%a0%81%e9%a3%8e%e6%a0%bc aria-label="1.4 汇编代码风格">1.4 汇编代码风格</a></li><li><a href=#15-%e6%9c%ac%e7%ab%a0%e5%b0%8f%e7%bb%93 aria-label="1.5 本章小结">1.5 本章小结</a></li></ul></div></details></div><div class=post-content><h2 id=11-x86通用寄存器>1.1 x86通用寄存器<a hidden class=anchor aria-hidden=true href=#11-x86通用寄存器>#</a></h2><p>32位x86是intel推出的,64位x86_64是amd推出的(amd64)</p><h3 id=111-32位架构>1.1.1 32位架构<a hidden class=anchor aria-hidden=true href=#111-32位架构>#</a></h3><p>在汇编中使用名称来引用寄存器.</p><p>表1-1 Intel指令编码中8个通用寄存器的编号和名称</p><table><thead><tr><th>编号</th><th>名称</th><th>编号</th><th>名称</th></tr></thead><tbody><tr><td>0</td><td>EAX</td><td>4</td><td>ESP</td></tr><tr><td>1</td><td>ECX</td><td>5</td><td>EBP</td></tr><tr><td>2</td><td>EDX</td><td>6</td><td>ESI</td></tr><tr><td>3</td><td>EBX</td><td>7</td><td>EDI</td></tr></tbody></table><p>0~3号寄存器可以拆分</p><p>图1-1 EAX寄存器的结构
<img loading=lazy src=%e5%9b%be1-1-EAX%e5%af%84%e5%ad%98%e5%99%a8%e7%9a%84%e7%bb%93%e6%9e%84.svg alt></p><p>表1-2 编号为0～3的寄存器的结构设计</p><table><thead><tr><th>32位</th><th>16位</th><th>高8位</th><th>低8位</th></tr></thead><tbody><tr><td>EAX</td><td>AX</td><td>AH</td><td>AL</td></tr><tr><td>ECX</td><td>CX</td><td>CH</td><td>CL</td></tr><tr><td>EDX</td><td>DX</td><td>DH</td><td>DL</td></tr><tr><td>EBX</td><td>BX</td><td>BH</td><td>BL</td></tr></tbody></table><p>4~7号寄存器没有8位独立名称</p><p>表1-3 编号为4～7的寄存器的结构设计</p><table><thead><tr><th>32位</th><th>16位</th><th>32位</th><th>16位</th></tr></thead><tbody><tr><td>ESP</td><td>SP</td><td>ESI</td><td>SI</td></tr><tr><td>EBP</td><td>BP</td><td>EDI</td><td>DI</td></tr></tbody></table><p>通用寄存器的特殊用途</p><ul><li>EAX寄存器会被乘法和除法指令自动使用，通常称为扩展累加寄存器。</li><li>ECX被LOOP系列指令用作循环计数器，但是多数上层语言不会使用LOOP指令，一般通过条件跳转系列指令实现。</li><li>ESP用来寻址栈上的数据，很少用于普通算数或数据传输，通常称为扩展栈指针寄存器。</li><li>ESI和EDI被高速内存传输指令分别用来指向源地址和目的地址，被称为扩展源索引寄存器和扩展目标索引寄存器。</li><li>EBP在高级语言中被用来引用栈上的函数参数和局部变量，一般不用于普通算数或数据传输，称为扩展帧指针寄存器。</li></ul><p>EFLAGS标志寄存器</p><ul><li>汇编语言中用于比较的CMP和TEST会修改标志寄存器里的相关标志，再结合条件跳转系列指令，就能实现上层语言中的大部分流程控制语句</li></ul><p>EIP指令指针寄存器</p><ul><li>存储的是下一条将要被执行的指令的地址，而且汇编语言中不能通过名称直接引用EIP，只能通过跳转、CALL和RET等指令间接地修改EIP的值。</li></ul><h3 id=112-64位架构>1.1.2 64位架构<a hidden class=anchor aria-hidden=true href=#112-64位架构>#</a></h3><p>64位架构把通用寄存器的个数扩展到16个，之前的8个通用寄存器也被扩展成了64位，每个寄存器的低8位、16位、32位都可以单独使用。</p><p>表1-4 64位架构下16个通用寄存器的结构设计</p><table><thead><tr><th>64位</th><th>32位</th><th>16位</th><th>8位</th></tr></thead><tbody><tr><td>RAX</td><td>EAX</td><td>AX</td><td>AL</td></tr><tr><td>RCX</td><td>ECX</td><td>CX</td><td>CL</td></tr><tr><td>RDX</td><td>EDX</td><td>DX</td><td>DL</td></tr><tr><td>RBX</td><td>EBX</td><td>BX</td><td>BL</td></tr><tr><td>RSP</td><td>ESP</td><td>SP</td><td>SPL</td></tr><tr><td>RBP</td><td>EBP</td><td>BP</td><td>BPL</td></tr><tr><td>RSI</td><td>ESI</td><td>SI</td><td>SIL</td></tr><tr><td>RDI</td><td>EDI</td><td>DI</td><td>DIL</td></tr><tr><td>R8~R15</td><td>R8D~R15D</td><td>R8W~R15W</td><td>R8B~R15B</td></tr></tbody></table><p>指令指针EIP被扩展为64位的RIP，但依然不能在代码中直接引用。标志寄存器EFLAGS被扩展为64位的RFLAGS，里面的标志位保持向前兼容。</p><h2 id=12-常用汇编指令>1.2 常用汇编指令<a hidden class=anchor aria-hidden=true href=#12-常用汇编指令>#</a></h2><p>x86的汇编指令一般由一个opcode（操作码）和0到多个operand（操作数）组成，大多数指令包含两个操作数，一个目的操作数和一个源操作数。</p><h3 id=121-整数加减指令>1.2.1 整数加减指令<a hidden class=anchor aria-hidden=true href=#121-整数加减指令>#</a></h3><p>源操作数可以是寄存器, 内存, 立即数, 目的操作数可以是寄存器, 内存. <strong>两个操作数不能同时为内存</strong></p><pre tabindex=0><code>ADD EAX, 16 ; EAX = EAX + 16
SUB ESP, 32 ; ESP = ESP - 32

ADD AL, CL
ADD AX, CX
</code></pre><h3 id=122-数据传输指令>1.2.2 数据传输指令<a hidden class=anchor aria-hidden=true href=#122-数据传输指令>#</a></h3><p>MOV指令主要用来在寄存器之间及寄存器和内存之间传输数据，也可以用来把一个立即数写到寄存器或内存中。</p><pre tabindex=0><code>MOV EAX, ECX  ; EAX = ECX
MOV EDX, 1234 ; EDX = 1234
</code></pre><p>内存寻址方式</p><ul><li>Displacement：位移，是一个8位、16位或32位的值。</li><li>Base：基址，存放在某个通用寄存器中。</li><li>Index：索引，存放在某个通用寄存器中，ESP不可用作索引。</li><li>Scale：比例因子，用来与索引相乘，可以取值1、2、4、8。经过计算得到的地址称为有效地址。</li></ul><pre tabindex=0><code>Effective Address = Base + (Index x Scale) + Displacement (1-1)
</code></pre><p>基于Base和Displacement的寻址</p><ul><li>位移(Displacement)：一个单独的位移表示距离操作数的直接偏移量。因为位移被编码在指令中，所以一般用于编译阶段静态分配的全局变量之类。</li><li>基址(Base)：将内存地址存储在某个通用寄存器中，寄存器的值可以变化，所以一般用于运行时动态分配的变量、数据结构等。</li><li>基址＋位移(Base＋Displacement)：基址加位移，尤其适合寻址运行时动态分配的数据结构的字段，以及函数栈帧上的变量。</li></ul><pre tabindex=0><code>MOV EAX, [16]       ; 位移
MOV EAX, [ESP]      ; 基址
MOV EAX, [ESP + 16] ; 基址 + 位移
</code></pre><h3 id=123-入栈和出栈指令>1.2.3 入栈和出栈指令<a hidden class=anchor aria-hidden=true href=#123-入栈和出栈指令>#</a></h3><pre tabindex=0><code>PUSH EAX
; 等价于
SUB ESP, 4
MOV [ESP], EAX
</code></pre><pre tabindex=0><code>POP EAX
; 等价于
MOV EAX, [ESP]
ADD ESP, 4
</code></pre><h3 id=124-分支跳转指令>1.2.4 分支跳转指令<a hidden class=anchor aria-hidden=true href=#124-分支跳转指令>#</a></h3><p>JMP指令会修改EIP的值</p><ul><li>只有一个操作数, 可以是立即数, 通用寄存器, 内存位置</li></ul><pre tabindex=0><code>JMP 32
JMP EAX
JMP [EAX+32]
</code></pre><h3 id=125-过程调用指令>1.2.5 过程调用指令<a hidden class=anchor aria-hidden=true href=#125-过程调用指令>#</a></h3><p>可以认为CALL在JMP的基础上多了一步记录返回地址的操作</p><ul><li>CALL指令先把返回地址入栈，然后跳转到目的地址执行</li></ul><p>目的地址也可以经由一个立即数、通用寄存器或内存位置来给出。</p><pre tabindex=0><code>CALL EAX
; 等价于
PUSH 32
JMP EAX
</code></pre><p>子过程执行完成后通过RET指令返回，RET指令会从栈上弹出返回地址，并跳转到该地址处继续执行。</p><ul><li>RET 可以不带参数</li></ul><pre tabindex=0><code>RET 8
; 等价于
RET
ADD ESP, 8
</code></pre><h2 id=13-内存分页机制>1.3 内存分页机制<a hidden class=anchor aria-hidden=true href=#13-内存分页机制>#</a></h2><p>在分页模式下，应用程序中使用的地址被称为线性地址，需要由MMU(Memory Management Unit)基于页表映射转换为物理地址，整个转换过程对于应用程序
是完全透明的。</p><h3 id=132-80386两级页表>1.3.2 80386两级页表<a hidden class=anchor aria-hidden=true href=#132-80386两级页表>#</a></h3><ul><li>每个页面4KB, 地址总线32bit, 物理地址32bit</li><li>每个页面存1024个地址 = 4KB/32bit(4B) = 1K</li></ul><p>图1-2 80386线性地址到物理地址的转换
<img loading=lazy src=https://res.weread.qq.com/wrepub/CB_3300047233_Figure-P29_4740.jpg alt></p><h3 id=133-pae三级页表>1.3.3 PAE三级页表<a hidden class=anchor aria-hidden=true href=#133-pae三级页表>#</a></h3><p>Physical Address Extension，PAE 物理地址扩展</p><ul><li>PAE地址总线36bit, 使硬件能够寻址64GB</li><li>仍使用32bit线性地址宽度(进程地址空间大小不变)</li><li>每个页面4KB, PAE地址总线36bit, 物理地址64bit</li><li>每个页面存储512个地址 = 4KB/64bit(8B) = 0.5K</li></ul><p>图1-3 PAE线性地址到物理地址的转换
<img loading=lazy src=https://res.weread.qq.com/wrepub/CB_3300047233_Figure-P30_4748.jpg alt></p><h3 id=134-x64四级页表>1.3.4 x64四级页表<a hidden class=anchor aria-hidden=true href=#134-x64四级页表>#</a></h3><p>Intel推出的IA64架构因为与原来的x86架构不兼容，所以没能普及，而AMD公司通过扩展x86推出的x64架构，因为良好的向下兼容性而被广泛采用。常见的
x64、x86_64都是指amd64架构，如今的个人计算机基本是基于amd64架构的。</p><p>在amd64上，寄存器的宽度变成了64位，而线性地址实际只用到48位，也就是最大可寻址256TB的内存。很少有单台计算机会安装如此大量的内存，所以没有必
要实现48位的地址总线，常见的个人计算机的CPU的地址总线实际还不到40位，例如笔者的计算机的Core i7实际只有36位。服务器的CPU的地址总线的宽度会
更大，例如Xeon E5系列能达到46位。</p><ul><li>每个页面4KB, 地址总线48bit, 物理地址64bit</li><li>每个页面存储512个地址 = 4KB/64bit(8B) = 0.5K</li></ul><p><img loading=lazy src=https://res.weread.qq.com/wrepub/CB_3300047233_Figure-P31_4755.jpg alt></p><h3 id=135-虚拟内存>1.3.5 虚拟内存<a hidden class=anchor aria-hidden=true href=#135-虚拟内存>#</a></h3><blockquote><p>猜测前面的地址转换图中的CR3是每个进程页表的起始物理地址</p></blockquote><p>进程是以页面为单位向操作系统申请内存的，操作系统一般只是对进程已申请的区间进行记账，并不会立刻映射所有页面。等到进程真正去访问某个未映射的页
面时，才会触发Page Fault异常，操作系统注册的Page Fault Handler会检查内存记账：如果目标地址已申请，就是合法访问，系统会分配一个物理页面并
完成映射，然后恢复被中断的程序，程序对这一切都是无感的；如果目标地址未申请，就是非法访问，系统一般会通过信号、异常等机制结束目标进程。</p><p>当物理内存不够用的时候，操作系统可以把一些不常使用的物理页面写到磁盘交换分区或交换文件，从而能够将空出的页面给有需要的进程使用。当被交换到磁
盘的页面再次被访问时，也会触发Page Fault，由Page Fault Handler负责从交换分区把数据加载回内存。程序对这一切都是无感的，并不知道某个内存页
面到底是在磁盘上，还是在物理内存中，所以称为<strong>进程的虚拟内存</strong>。</p><h2 id=14-汇编代码风格>1.4 汇编代码风格<a hidden class=anchor aria-hidden=true href=#14-汇编代码风格>#</a></h2><p>1.操作数的宽度</p><p>在Go汇编中通过指令的后缀来判断操作数的宽度，后缀W代表16位，后缀L代表32位，后缀Q代表64位，不像Intel汇编中有AX、EAX、RAX不同的寄存器名称。
例如对于整数自增指令，Intel汇编风格的代码如下：</p><pre tabindex=0><code>INC EAX
INC RCX
</code></pre><p>对应的Go汇编风格的代码如下：</p><pre tabindex=0><code>INCL AX
INCQ CX
</code></pre><p>2.操作数的顺序</p><p>对于常见的有两个操作数的指令，Go汇编中操作数的顺序与Intel汇编中操作数的顺序是相反的，源操作数在前而目的操作数在后。</p><p>例如Intel汇编的代码如下：</p><pre tabindex=0><code>MOV EAX, ECX
</code></pre><p>转换成Go汇编的代码如下：</p><pre tabindex=0><code>MOVL CX, AX
</code></pre><p>3.地址的表示</p><p>有效地址的计算公式如式(1-1)所示，如果要用ESP作为基址寄存器，EBX作为索引寄存器，比例系数取2，位移为16，则可以分别给出两种风格的代码。</p><p>Intel汇编的代码如下：</p><pre tabindex=0><code>[ESP + EBX*2 + 16]
</code></pre><p>Go汇编的代码如下：</p><pre tabindex=0><code>16(SP)(BX*2)
</code></pre><p>4.立即数格式</p><p>Go汇编中的立即数类似于AT&amp;T风格的立即数，需要加上$前缀。</p><p>Intel汇编的代码如下：</p><pre tabindex=0><code>MOV EAX, 1234
</code></pre><p>Go汇编的代码如下：</p><pre tabindex=0><code>MOVL $1234, AX
</code></pre><h2 id=15-本章小结>1.5 本章小结<a hidden class=anchor aria-hidden=true href=#15-本章小结>#</a></h2></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://jdxj.github.io/posts/books/%E5%90%B4%E5%8A%B2%E8%8D%89%E8%AE%B2%E6%B6%88%E8%B4%B9%E8%A1%8C%E4%B8%9A-%E5%8F%91%E7%8E%B0%E7%94%9F%E6%B4%BB%E4%B8%AD%E7%9A%84%E9%95%BF%E7%BA%BF%E5%A4%A7%E7%89%9B%E8%82%A1/%E7%AC%AC1%E7%AB%A0-%E4%B8%BA%E4%BD%95%E9%80%89%E6%8B%A9%E6%B6%88%E8%B4%B9%E5%93%81%E6%8A%95%E8%B5%84/><span class=title>« Prev</span><br><span>第1章 为何选择消费品投资</span></a>
<a class=next href=https://jdxj.github.io/posts/books/%E9%95%BF%E6%9C%9F%E7%9A%84%E5%8A%9B%E9%87%8F-%E5%A6%82%E4%BD%95%E6%9E%84%E5%BB%BA%E5%8F%AF%E6%8C%81%E7%BB%AD%E7%9A%84%E4%BB%B7%E5%80%BC%E6%8A%95%E8%B5%84%E7%9B%88%E5%88%A9%E4%BD%93%E7%B3%BB/%E7%AC%AC%E4%B8%89%E9%83%A8%E5%88%86-%E5%81%9A%E4%B8%AA%E8%81%AA%E6%98%8E%E7%9A%84%E6%8A%95%E8%B5%84%E8%80%85/%E7%AC%AC%E5%8D%81%E7%AB%A0-%E8%81%AA%E6%98%8E%E6%8A%95%E8%B5%84%E8%80%85%E7%9A%84%E6%8A%95%E8%B5%84%E5%87%86%E5%88%99/><span class=title>Next »</span><br><span>第十章 聪明投资者的投资准则</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share 第1章 汇编基础 on twitter" href="https://twitter.com/intent/tweet/?text=%e7%ac%ac1%e7%ab%a0%20%e6%b1%87%e7%bc%96%e5%9f%ba%e7%a1%80&amp;url=https%3a%2f%2fjdxj.github.io%2fposts%2fbooks%2f%25E6%25B7%25B1%25E5%25BA%25A6%25E6%258E%25A2%25E7%25B4%25A2go%25E8%25AF%25AD%25E8%25A8%2580--%25E5%25AF%25B9%25E8%25B1%25A1%25E6%25A8%25A1%25E5%259E%258B%25E4%25B8%258Eruntime%25E7%259A%2584%25E5%258E%259F%25E7%2590%2586%25E7%2589%25B9%25E6%2580%25A7%25E5%258F%258A%25E5%25BA%2594%25E7%2594%25A8%2f%25E7%25AC%25AC1%25E7%25AB%25A0-%25E6%25B1%2587%25E7%25BC%2596%25E5%259F%25BA%25E7%25A1%2580%2f&amp;hashtags="><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 第1章 汇编基础 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fjdxj.github.io%2fposts%2fbooks%2f%25E6%25B7%25B1%25E5%25BA%25A6%25E6%258E%25A2%25E7%25B4%25A2go%25E8%25AF%25AD%25E8%25A8%2580--%25E5%25AF%25B9%25E8%25B1%25A1%25E6%25A8%25A1%25E5%259E%258B%25E4%25B8%258Eruntime%25E7%259A%2584%25E5%258E%259F%25E7%2590%2586%25E7%2589%25B9%25E6%2580%25A7%25E5%258F%258A%25E5%25BA%2594%25E7%2594%25A8%2f%25E7%25AC%25AC1%25E7%25AB%25A0-%25E6%25B1%2587%25E7%25BC%2596%25E5%259F%25BA%25E7%25A1%2580%2f&amp;title=%e7%ac%ac1%e7%ab%a0%20%e6%b1%87%e7%bc%96%e5%9f%ba%e7%a1%80&amp;summary=%e7%ac%ac1%e7%ab%a0%20%e6%b1%87%e7%bc%96%e5%9f%ba%e7%a1%80&amp;source=https%3a%2f%2fjdxj.github.io%2fposts%2fbooks%2f%25E6%25B7%25B1%25E5%25BA%25A6%25E6%258E%25A2%25E7%25B4%25A2go%25E8%25AF%25AD%25E8%25A8%2580--%25E5%25AF%25B9%25E8%25B1%25A1%25E6%25A8%25A1%25E5%259E%258B%25E4%25B8%258Eruntime%25E7%259A%2584%25E5%258E%259F%25E7%2590%2586%25E7%2589%25B9%25E6%2580%25A7%25E5%258F%258A%25E5%25BA%2594%25E7%2594%25A8%2f%25E7%25AC%25AC1%25E7%25AB%25A0-%25E6%25B1%2587%25E7%25BC%2596%25E5%259F%25BA%25E7%25A1%2580%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 第1章 汇编基础 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fjdxj.github.io%2fposts%2fbooks%2f%25E6%25B7%25B1%25E5%25BA%25A6%25E6%258E%25A2%25E7%25B4%25A2go%25E8%25AF%25AD%25E8%25A8%2580--%25E5%25AF%25B9%25E8%25B1%25A1%25E6%25A8%25A1%25E5%259E%258B%25E4%25B8%258Eruntime%25E7%259A%2584%25E5%258E%259F%25E7%2590%2586%25E7%2589%25B9%25E6%2580%25A7%25E5%258F%258A%25E5%25BA%2594%25E7%2594%25A8%2f%25E7%25AC%25AC1%25E7%25AB%25A0-%25E6%25B1%2587%25E7%25BC%2596%25E5%259F%25BA%25E7%25A1%2580%2f&title=%e7%ac%ac1%e7%ab%a0%20%e6%b1%87%e7%bc%96%e5%9f%ba%e7%a1%80"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 第1章 汇编基础 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fjdxj.github.io%2fposts%2fbooks%2f%25E6%25B7%25B1%25E5%25BA%25A6%25E6%258E%25A2%25E7%25B4%25A2go%25E8%25AF%25AD%25E8%25A8%2580--%25E5%25AF%25B9%25E8%25B1%25A1%25E6%25A8%25A1%25E5%259E%258B%25E4%25B8%258Eruntime%25E7%259A%2584%25E5%258E%259F%25E7%2590%2586%25E7%2589%25B9%25E6%2580%25A7%25E5%258F%258A%25E5%25BA%2594%25E7%2594%25A8%2f%25E7%25AC%25AC1%25E7%25AB%25A0-%25E6%25B1%2587%25E7%25BC%2596%25E5%259F%25BA%25E7%25A1%2580%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 第1章 汇编基础 on whatsapp" href="https://api.whatsapp.com/send?text=%e7%ac%ac1%e7%ab%a0%20%e6%b1%87%e7%bc%96%e5%9f%ba%e7%a1%80%20-%20https%3a%2f%2fjdxj.github.io%2fposts%2fbooks%2f%25E6%25B7%25B1%25E5%25BA%25A6%25E6%258E%25A2%25E7%25B4%25A2go%25E8%25AF%25AD%25E8%25A8%2580--%25E5%25AF%25B9%25E8%25B1%25A1%25E6%25A8%25A1%25E5%259E%258B%25E4%25B8%258Eruntime%25E7%259A%2584%25E5%258E%259F%25E7%2590%2586%25E7%2589%25B9%25E6%2580%25A7%25E5%258F%258A%25E5%25BA%2594%25E7%2594%25A8%2f%25E7%25AC%25AC1%25E7%25AB%25A0-%25E6%25B1%2587%25E7%25BC%2596%25E5%259F%25BA%25E7%25A1%2580%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 第1章 汇编基础 on telegram" href="https://telegram.me/share/url?text=%e7%ac%ac1%e7%ab%a0%20%e6%b1%87%e7%bc%96%e5%9f%ba%e7%a1%80&amp;url=https%3a%2f%2fjdxj.github.io%2fposts%2fbooks%2f%25E6%25B7%25B1%25E5%25BA%25A6%25E6%258E%25A2%25E7%25B4%25A2go%25E8%25AF%25AD%25E8%25A8%2580--%25E5%25AF%25B9%25E8%25B1%25A1%25E6%25A8%25A1%25E5%259E%258B%25E4%25B8%258Eruntime%25E7%259A%2584%25E5%258E%259F%25E7%2590%2586%25E7%2589%25B9%25E6%2580%25A7%25E5%258F%258A%25E5%25BA%2594%25E7%2594%25A8%2f%25E7%25AC%25AC1%25E7%25AB%25A0-%25E6%25B1%2587%25E7%25BC%2596%25E5%259F%25BA%25E7%25A1%2580%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://jdxj.github.io>jdxj</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>